<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <title>Document</title>
</head>
<body>
    <h1>POST 실습</h1>
    <form>
        <label for="username">아이디</label>
        <input type="text" id="username" required>
        <label for="password">비밀번호</label>
        <input type="password" id="password" required>
        <br/>
        <button type="button" onclick="login()">로그인</button>
    </form>
    <div class="result"></div>
    <script>
        const resultBox = document.querySelector('.result');
        function login(){
            console.log('axios post');
            const data ={
                username: document.querySelector('#username').value,
                password: document.querySelector('#password').value,
                erer : 'qwe',
            }
            console.log(data);
            axios({     // data 를 보냈다.
                method:'POST',
                url:'/resultPost',
                data
            }).then(res =>{
                console.log('res', res);
                //객체 구조분해할당
                const {result, userInfo} = res.data;
                if(result == true){
                    resultBox.textContent = `${userInfo.username}님 환영합니다.`
                    resultBox.style.color = "green";
                } else{
                    resultBox.textContent = `아이디 or pw 틀림`;
                    resultBox.style.color = "red";
                }
            });
        }
    </script>
</body>
</html>